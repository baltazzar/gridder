<html lang="pt-br">
	<head>
		<meta charset="UTF-8">
		<title>Component Test</title>
		<link href="http://netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css" rel="stylesheet">
		<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
		<script src="http://netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>
		<script src="//cdnjs.cloudflare.com/ajax/libs/underscore.js/1.6.0/underscore-min.js"></script>
		<script src="//cdnjs.cloudflare.com/ajax/libs/backbone.js/1.1.2/backbone-min.js"></script>
		<script src="//cdnjs.cloudflare.com/ajax/libs/backbone.marionette/1.6.4-bundled/backbone.marionette.min.js"></script>
		<script src="../dist/gridder.js"></script>

		<style>
			table {
				font-size: 12px;
			}
		</style>
	</head>
	<body>
		<div class="container">
			<h2 class="text-info">Gridder</h2>
			<div id="gridPessoas"></div>
		</div>


		<script type="text/javascript">

			$(document).on('click', '.btn-teste', function(ev) {
				ev.preventDefault();

				alert(ev.currentTarget.id + ' clicked!');
			})

			var Gridder = baltazzar.gridder(Marionette);

			var Pessoas = new Backbone.Collection([
				{ id: 1, nome: 'Victor Bastos', idade: 29, linguagem: {nome: 'Javascript', tipada: {nome: 'NÃ£o Tipada'}} },
				{ id: 2, nome: 'Antonio Furlaneto', idade: null, linguagem: {nome: 'C#', tipada: {nome: 'Fortemente'}} },
				{ id: 3, nome: 'Michel Ariede', idade: null },
				{ id: 4, nome: 'Raphael Silva', idade: null },
				{ id: 5, nome: 'Willian Finamore', idade: null },
				{ id: 6, nome: 'Renato Mestre', idade: null },
				{ id: 7, nome: 'Thiago Ribeiro', idade: null }
			]);

			setTimeout(function() {
				Pessoas.reset();
			}, 5000);

			setTimeout(function() {
				Pessoas.add([
					{ id: 5, nome: 'Willian Finamore', idade: null },
					{ id: 6, nome: 'Renato Mestre', idade: null },
					{ id: 7, nome: 'Thiago Ribeiro', idade: null }
				])
			}, 10000);

			var gridPessoas = new Gridder({
				el: '#gridPessoas',
				cssClasses: ['table-hover', 'table-condensed', 'table-fixed'],
				collection: Pessoas,
				headers: ['nome:Nome', 'idade:Idade', 'linguagem.nome:Linguagem', 'linguagem.tipada.nome:Tipada']
			});

			gridPessoas.changeValues({
				'Willian Finamore': '<span class="text-danger">Willian Finamore</span>',
				'29': '<strong class="text-info">29</strong>'
			});

			gridPessoas.addCols([
				{
					position: 2,
					header: 'HAHA',
					content: '<button class="btn btn-xs btn-teste" id="{{id}}">Pessoa</button>'
				}
			]);

			gridPessoas.getCols(function(col, model) {
				// console.log(col);
				// console.log(model);
			});

			gridPessoas.getRows(function(row, model) {
				// console.log(row);
				// console.log(model);
			});
		</script>
	</body>
</html>
