<html lang="pt-br">
	<head>
		<meta charset="UTF-8">
		<title>Component Test</title>
		<link href="http://netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css" rel="stylesheet">
		<script src="../jquery.js"></script>
		<script src="../underscore.js"></script>
		<script src="../backbone.js"></script>
		<script src="http://netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>
		<style>
			body {
				background: #f5f5f5;
			}
			table {
				font-size: 12px;
				background: #ffffff;
			}
		</style>
	</head>
	<body>
		<div class="container">
			<h2 class="text-info">Gridder</h2>
			<div id="gridPatos"></div>
		</div>

		<script src="../gridder.js"></script>
		<script type="text/javascript">

			// var Patos = new Backbone.Collection([
			// 	{ id: 1, nome: 'Hugo', apelido: 'Huguinho', hobby: { nome: 'Jogar Bola'} },
			// 	{ id: 2, nome: 'José', apelido: 'Zezinho', hobby: { nome: 'Nadar' } },
			// 	{ id: 3, nome: 'Luiz', apelido: 'Luizinho', hobby: { nome: 'Ler' } }
			// ]);

			var Analistas = new Backbone.Collection([
				{
					id: 1,
					pessoa: {
						nome: 'Victor',
						sobrenome: 'Bastos',
						habilidades: {
							programacao: {
								linguagem: 'Javascript'
							}
						}
					}
				},
				{
					id: 2,
					pessoa: {
						nome: 'Antonio',
						sobrenome: 'Furlaneto',
						habilidades: {
							programacao: {
								linguagem: 'C#'
							}
						}
					}
				}
			]);

			$(document).on('click', '.btn-ok', function(ev) {
				console.log(ev.currentTarget);
			});

			var Gridder = baltazzar.gridder;

			var gridder = new Gridder({
				element: $('#gridPatos'),
				collection: Analistas,
				cols: {
					'pessoa.habilidades.programacao.linguagem' : 'LINGUAGEM'
				},
				cssClasses: ['table-condensed', 'table-hover']
			}).changeValues({

			}).getRows(function(row, model) {

			}).getCols(function(col, model) {

			}).addCols([
				{
					position: 0,
					header: 'NOME',
					content: '{{pessoa.nome}} {{pessoa.sobrenome}}'
				},
				{
					content: '<button class="btn btn-xs btn-block btn-success btn-ok" id="{{id}}">OK</button>'
				}
			]);

			// setTimeout(function() {
			// 	Analistas.remove(Analistas.get(1));
			// }, 3000);

			// setTimeout(function() {
			// 	Analistas.add({id: 1,
			// 		pessoa: {
			// 			nome: 'Victor',
			// 			sobrenome: 'Bastos',
			// 			habilidades: {
			// 				programacao: {
			// 					linguagem: 'Javascript'
			// 				}
			// 			}
			// 		}});
			// }, 6000);

			// var Patos = new Backbone.Collection([
			// 	{ id: 1, nome: 'Hugo', apelido: 'Huguinho', hobby: { nome: 'Jogar Bola'} },
			// 	{ id: 2, nome: 'José', apelido: 'Zezinho', hobby: { nome: 'Nadar' } },
			// 	{ id: 3, nome: 'Luiz', apelido: 'Luizinho', hobby: { nome: 'Ler' } }
			// ]);

			// var gridPatos = new Gridder({
			// 	el: '#gridPatos',
			// 	cssClasses: ['table-hover', 'table-condensed', 'table-fixed'],
			// 	collection: Patos,
			// 	headers: ['nome:Nome', 'apelido:Apelido', 'hobby.nome:Hobby']
			// });
		</script>
	</body>
</html>
